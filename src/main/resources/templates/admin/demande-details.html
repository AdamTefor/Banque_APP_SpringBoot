<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Détail de la demande</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="dashboard">
    <div class="sidebar">
        <img src="/images/logo-1.png" class="logo" alt="Bankati Logo">
        <h2>Admin - Bankati</h2>
        <div class="sidebar-buttons">
            <a href="/admin/dashboard" class="sidebar-btn">Tableau de bord</a>
            <a href="/admin/users" class="sidebar-btn">Utilisateurs</a>
            <a href="/admin/demandes" class="sidebar-btn">Demandes</a>
            <a href="/login" class="sidebar-btn logout">Déconnexion</a>
        </div>
    </div>

    <div class="content">
        <h1>Détail de la Demande</h1>
        <div class="card">
            <p><strong>Nom du client :</strong> <span th:text="${demande.user.nom}">Nom Client</span></p>
            <p><strong>Email :</strong> <span th:text="${demande.user.email}">email@example.com</span></p>
            <p><strong>Montant demandé :</strong> <span th:text="${demande.montant}">0</span> MAD</p>
            <p><strong>Date :</strong> <span th:text="${demande.date}">2025-01-01</span></p>
            <p><strong>Statut :</strong>
                <span th:if="${demande.statut == 'En attente'}" class="badge badge-pending">En attente</span>
                <span th:if="${demande.statut == 'Acceptée'}" class="badge badge-success">Acceptée</span>
                <span th:if="${demande.statut == 'Refusée'}" class="badge badge-error">Refusée</span>
            </p>

            <div th:if="${demande.statut == 'En attente'}" class="action-buttons">
                <form th:action="@{/admin/demandes/accepter/{id}(id=${demande.id})}" method="post" style="display:inline;">
                    <button class="btn btn-success" type="submit">Accepter</button>
                </form>
                <form th:action="@{/admin/demandes/refuser/{id}(id=${demande.id})}" method="post" style="display:inline;">
                    <button class="btn btn-danger" type="submit">Refuser</button>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>
